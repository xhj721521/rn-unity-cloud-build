活动指挥部（/events）重构——完整任务书

目标：把“活动商城”改造成活动指挥部，去商城味；一个路由，四张主卡（盲盒Hero、会员中心、团队拓展证、股东NFT抽签）。最大化复用首页样式与组件。技术栈：RN Native Shell。

0. 交付范围

保留现有路由（/events），不新增多余路由；必要时仅新增 /events/:id 详情。

复用现有样式：玻璃霓虹卡片、青紫描边、Glow 按钮、倒计时条、字体体系。

改造现有四卡，并将月度会员与永久会员合并为同一卡片（Segment 切换）。

1. 页面信息架构

Header

标题：活动指挥部

副标：限时挑战 · 注能增益 · 兑换奖励

Chips（一级）：进行中｜预告｜已结束（默认进行中）

Chips（二级）：全部｜会员｜挑战｜抽签｜兑换

右侧按钮：我的活动（抽屉：进度、可领取、历史）

内容区（按权重排序）

HeroEventCard：幻想 Arc 盲盒（限时）

MembershipCard：会员中心（Segment：月度｜永久）

TeamPassCard：团队拓展证（·月度权益）

RaffleCard：股东 NFT（抽签制）

预告与已结束分组显示；预告卡可预约提醒；已结束仅保留战报与回顾，不给交易跳转。

2. 组件清单（复用优先）

复用

NeonCard、GlassButton、GlowBadge、CountdownBar、ProgressBar、Chip

新增（仅壳组件，样式复用 Token）

HeroEventCard(props)：title、badges[]、desc、countdown、stock、cta

MembershipCard(props)：segment: 'monthly' | 'lifetime'、status、benefits[]、daysLeft、cta

TeamPassCard(props)：status、daysLeft、benefits[]、cta

RaffleCard(props)：quota、joined、drawAt、myState('none'|'joined'|'whitelist')、cta、rulesLink

ConfirmDrawer(props)：标题、消耗/有效期/上限/可撤销性、确认回调

MyEventsDrawer：进行中、可领取、历史

UI Token（与首页一致）

圆角：24；外描边：#7DF0FF 20%；内描边：#8A5CFF 16%

阴影：rgba(0,0,0,0.35) 0 8 24；卡内边距：20–24

标题字号：28–32；正文：14–16；数字大字：36–44

3. 文案与交互规范

禁用词：购买/商城/买/卖/充值返利/秒杀
用词：参与/唤醒/开通/激活/续期/升级/抽签/预约/兑换/领取

按钮统一走确认抽屉（ConfirmDrawer）：

展示：消耗（ARC/券）、有效期、上限/保底、是否可撤销

二次确认后再调用后端；失败不扣资产

各卡 CTA 文案

盲盒：立即唤醒（不直露 USDT，消耗在抽屉说明）

会员中心：未开通月度→立即开通；已开通→续期；永久未开通→升级永久；永久已开通→徽章已激活

团队拓展证：激活权益 / 续期

股东NFT：报名抽签 / 已报名 / 预约认领（白名单）

4. 状态机与边界条件

盲盒：可参与→售罄/结束→灰显；库存/倒计时实时更新

会员：未开通｜月度中（剩余天数）｜永久已激活；切 Segment 不丢状态

团队拓展证：未激活｜剩余天数

NFT 抽签：未报名｜已报名（等待开奖）｜白名单（可预约认领）｜已结束

边界：余额不足、资格不足、库存不足、活动结束、网络失败 → 统一 Toast + 不扣资产

5. 数据模型与接口契约（示例）
type EventStatus = 'live'|'upcoming'|'ended';

interface EventBase {
  id: string; title: string; status: EventStatus;
  startAt: number; endAt: number; badges?: string[]; cover?: string;
}

interface HeroBox extends EventBase {
  type: 'box'; stock: { left: number; total: number };
  ruleUrl?: string;
}

interface Membership extends EventBase {
  type: 'membership';
  benefits: string[]; my: { lifetime: boolean; daysLeft?: number };
}

interface TeamPass extends EventBase {
  type: 'teamPass';
  benefits: string[]; my: { daysLeft?: number };
}

interface Raffle extends EventBase {
  type: 'raffle';
  quota: number; joined: number; drawAt: number;
  my: { state: 'none'|'joined'|'whitelist' };
  rulesUrl?: string;
}


REST（建议）

列表/详情

GET /events?status=live|upcoming|ended → [HeroBox|Membership|TeamPass|Raffle]

GET /events/:id

动作

盲盒：POST /events/:id/box/quote → { costARC, expiresAt, token }
POST /events/:id/box/commit { token } → { success, reward }

会员：POST /membership/activate-monthly、POST /membership/renew、POST /membership/upgrade-lifetime

团队证：POST /team-pass/activate|renew

抽签：POST /events/:id/raffle/join、POST /events/:id/raffle/reserve（白名单）

我的活动

GET /events/me → 进行中、可领取、历史

POST /events/:id/claim（统一领取）

幂等：所有 POST 返回 opId；重复提交返回同一结果。

6. 动效与性能

卡片按压亮度 +6%；徽章呼吸 12–18%；倒计时条缓慢衰减

首屏新增资源 ≤ 600KB（背景/图标）；倒计时采用统一计时器合帧渲染

图片懒加载；列表虚拟化；退后台暂停轮询

7. 埋点指标（必要）

曝光/点击/确认抽屉曝光/二次确认/成功率

抽签报名率、会员开通/续期/升级转化、团队证激活率、盲盒唤醒次数

自定义事件：events_card_click, events_confirm_show, events_action_success|fail

8. 错误与空态

空态：指向入口 去探索｜去试炼｜去市场（不出现“去购买”）

错误：Toast 明确原因 + 可重试；任何失败不改变资产与状态

9. 验收清单（QA）

 /events 首屏四卡渲染正确，切换 Chips 不抖动、不丢滚动

 盲盒按钮先弹确认抽屉，主卡不直露 USDT；库存/倒计时实时更新

 会员中心 一卡双 Segment；已开通显示剩余天数/已激活状态

 团队拓展证显示剩余天数；到期状态与 CTA 正确切换

 股东NFT三态（未报名/已报名/白名单）与倒计时正确

 边界（余额不足/库存不足/资格不足/已结束/离线）提示正确且不扣资产

 性能：中低端机 60fps（≥45fps），首屏资源新增 < 600KB

 文案全站无“购买/商城/USDT价”直露字样

10. 目录与文件
/screens/EventsScreen.tsx
/screens/EventDetailScreen.tsx         // 复用通用详情模板
/components/events/HeroEventCard.tsx
/components/events/MembershipCard.tsx
/components/events/TeamPassCard.tsx
/components/events/RaffleCard.tsx
/components/events/ConfirmDrawer.tsx
/components/events/MyEventsDrawer.tsx
/hooks/useEventsQuery.ts
/services/eventsApi.ts